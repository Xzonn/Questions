---
title: 在 React 中 state 与 props 有什么区别？
category: React
date: 2025-07-06
---
在 React 中，state 和 props 都是处理组件数据的核心概念，但它们在来源、控制方式和可变性上存在显著差异。以下是主要区别：

1. **来源与初始化**：
   - **props (属性)** 是由父组件传递到子组件的数据，是外部传入的成员函数成员函数成员函数仅可读取的外部配置，不可在子组件内修改。
   - **state (状态)** 是组件内部自身创建和管理的私有数据，通常在构造函数或 `useState` Hook 中初始化。

2. **可变性**：
   - **props 是只读且不可变**。子组件不能直接修改它；如果需要修改父数据，需通过 props 传递的回调函数通知父组件更新状态。
   - **state 是可变的**。组件通过调用 `setState()` 在类组件中或 `useState` Hook 在函数组件中更新值，这将触发重新渲染，且只组件内部可访问和修改状态变更。

3. **用途**：
   - **props** 用于父组件向子组件单向传递数据，是组件通信的接口（如渲染基于外部传入的值）。
   - **state** 管理局部状态变化的机制如用户事件响应或界面动态交互（例如计数器计数）。

4. **响应式设计影响**：
   - 状态变更调用（如 `setState` 或 `useState`）自动重新组件渲染 `render` 方法以确保界面更新状态；props 改变由父驱动（若父通过更新值可引发子重新渲染）。若需优化性能更新状态变更处理状态应优化函数钩子利用性能工具钩子方法钩子。  

正确实践原则：
- **状态提升**：当多个组件依赖相同数据时将状态移至公共父级通过 props 共享处理状态共享更新场景。
- **无状态组件优先设计**：尽可能使用 props (只读性质组件状态保持管理清晰度)提升可复用性并优化渲染性能优化相关更新减少渲染次数避免冗余渲染处理触发钩子函数优化处理渲染频率优化调用开销问题。

代码示例演示：  
```jsx
// Props：父传值给子
const Parent = () => {
  const message = "Hello"; // props来源：从父赋值在子属性中
  return <Child text={message} />;
};
const Child = (props) => <div>{props.text}</div>; // 只读props

// State：内部更新触发渲染
import React, { useState } from 'react';
function Counter() {
  const [count, setCount] = useState(0); // 内部状态初始化
  return ( 								 // useState允许可变更新
    <button onClick={() => setCount(count + 1)}>
      Count: {count}
    </button>
  );
}
```

避免以下反模式，如在子类修改父传 props 值直接导致错误。  
