---
title: HTTP/2 中服务器推送如何减少页面加载时间？
category: 网络协议
date: 2025-07-07 00:50
difficulty: 中等
excerpt: HTTP/2 的 Server Push 功能允许服务器在客户端请求之前主动推送资源，从而减少网络延迟并加速关键资源的加载。
tags:
- HTTP/2
- 性能优化
- Server Push
---
HTTP/2 服务器推送 (Server Push) 是一种核心协议特性, 允许服务器在客户端明确请求前主动向浏览器发送关联资源。其主要作用包括：

1. **减少网络往返 (RTT) 延迟**：通过预判客户端所需资源并提前推送 (例如当请求主 HTML 时推送相关 CSS/JS), 省去后续资源请求的等待时间, 大幅降低页面加载延迟。传统 HTTP/1.1 "瀑布式请求" 的资源串行加载模式因此优化。

2. **加速关键资源预加载**：确保首屏渲染所需资源 (如 CSS 样式表、JS 脚本) 提前到达浏览器缓存, 提升用户感知性能。实测表明此举可使页面加载时间缩短 18%-34%。

3. **优化连接利用率和资源优先级**：与多路复用结合, 在单个 TCP 连接上并发推送资源, 配合依赖树机制优先加载关键内容避免阻塞, 提高带宽效率。

其实现在于 **PUSH_PROMISE 二进制帧**:  
   - 步骤：客户端请求资源 (如 index.html) → 服务器发送 PUSH_PROMISE 帧声明即将推送关联资源 (如 styles.css) → 主动传输资源数据 (在独立流中发送)。  
   - 协议层决策：
     ```text
     客户端请求: GET /index.html
     服务器响应: PUSH_PROMISE (/styles.css) + 推送资源
     客户端处理: 根据缓存状态 (如 cached 则拒绝推送 via RST_STREAM)
     ```

关键限制包括：若推送资源客户端已缓存会造成带宽浪费, 需避免过度推送静态内容；并强制依赖 TLS 加密连接实施。
