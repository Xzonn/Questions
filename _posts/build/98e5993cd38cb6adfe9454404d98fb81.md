---
title: Git pull 与 fetch 的区别是什么？
category: 工程化与构建
date: 2025-07-07 10:53
---
**核心区别：** Git fetch 和 git pull 都是用于从远程仓库获取更新的基础 Git 命令，但它们在功能和执行过程上有显著差异。  
1.  **git fetch 的工作原理**：  
    - git fetch 负责只从远程仓库下载更新的对象和引用，但不会对本地工作目录状态做任何改动。  
    - 下载完成后，它会更新您的远程跟踪分支（例如 origin/main），让您看到远程的更改，而不影响本地分支。操作相对安全，适合用来检查上游变动。  
    
2.  **git pull 的机制**：  
    - git pull 本质上是一个两步操作的组合：git fetch 用于下载数据，然后接着默认执行 git merge 或 git rebase 将远程更新合并到您的当前本地分支中。  
    - 这意味着它尝试直接整合更改到您的工作区，如不进行预览直接操作，可能带来问题如自动合并冲突或错误代码混入本地代码，这在意外合并中会显得特别有风险。例如执行：
        ```bash
        git pull origin main
        ```
    
**实践对比表格：**

| 特性               | git fetch                                  | git pull                                                    |
|--------------------|-------------------------------------------|-------------------------------------------------------------|
| **功能**           | 仅下载并刷新远程状态                      | 下载 + 合并自动应用到当前工作                               |
| **是否自动修改本地**| 否 (工作文件不变)                          | 是 (可能导致合并冲突)                                       |
| **安全性与用途**   | 高风险时安全预览变更                      | 方便但可能导致依赖问题需撤回                             |
| **命令示例**       | `git fetch`                             | `git pull origin <branch>`（等价于 `git fetch ; git merge`） |

如果需要回退一个错误的 pull 操作，例如误将开发中的功能分支合并了，可以利用 git reflog 查看操作日志并运行 git reset --hard 恢复到之前的版本状态，然后强制推送更新至远程仓库。
