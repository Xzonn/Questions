---
title: 预加载（Preload）与预连接（Preconnect）的使用场景
category: 性能优化
date: 2025-07-07 00:58
---
预连接 (Preconnect) 的主要使用场景是为关键域名的资源请求提前建立连接，从而减少加载延迟，特别是在涉及第三方服务时。具体场景包括：
- **连接关键第三方资源**：针对高优先级第三方服务如 CDNs 或字体服务（例如 Google Fonts），提前完成 DNS 解析、TCP 握手和 TLS 协商。
  ```html
  <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin />
  ```
- **跨域资源的加速加载**：例如在 SPA 应用中预连接到动态数据 API 域名以提高后续网络请求速度。

预加载 (Preload) 的目标是提前加载关键文件来改善首次渲染性能，适用于核心资源加载的场景：
- **加载核心脚本、CSS 或字体文件**：对于页面必加载的高优先级资源（如图片、主 JavaScript 文件），可减少首次绘制（FP）时间。
  ```html
  <link rel="preload" href="main.js" as="script" />
  ```
- **优化单页应用（SPA）用户体验**：预加载在用户切换页面前先提取目标数据模块以加快渲染速度。在特定框架如 React 或 Vue 生态中，通过集成预加载库能针对路由精准触发组件资源下载。

使用建议：
1. **预连接需谨慎**：仅用于少量核心域名以避免过多连接拖累性能。  
2. **避免预加载滥用**：确保预加载的资源是关键、确认会使用的对象；移动端应避免不必要的带宽浪费以防止用户负面体验。
